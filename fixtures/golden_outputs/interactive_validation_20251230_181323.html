<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RangerIO Interactive Validation Report - 20251230_181323</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0e1a;
            color: #e0e0e0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #1a1f2e 0%, #2d3748 100%);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid #3d4556;
        }
        
        .header h1 {
            color: #10b981;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header .stats {
            display: flex;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .stat {
            background: #1a1f2e;
            padding: 15px 20px;
            border-radius: 8px;
            border: 1px solid #3d4556;
        }
        
        .stat-label {
            color: #9ca3af;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-value {
            color: #10b981;
            font-size: 24px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .validation-item {
            background: #1a1f2e;
            border: 1px solid #3d4556;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }
        
        .validation-item:hover {
            border-color: #10b981;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.1);
        }
        
        .validation-item.validated {
            border-color: #10b981;
            background: #0f1419;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #3d4556;
        }
        
        .item-number {
            background: #10b981;
            color: #0a0e1a;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .item-type {
            background: #3d4556;
            color: #10b981;
            padding: 5px 12px;
            border-radius: 6px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .question {
            color: #10b981;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .answer {
            background: #0f1419;
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #10b981;
            margin-bottom: 15px;
            white-space: pre-wrap;
        }
        
        .contexts {
            margin: 20px 0;
        }
        
        .context {
            background: #0f1419;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            border-left: 2px solid #6b7280;
            font-size: 14px;
            color: #9ca3af;
        }
        
        .chart-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .chart-container img {
            max-width: 100%;
            border-radius: 8px;
            border: 1px solid #3d4556;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .comparison-item {
            background: #0f1419;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #3d4556;
        }
        
        .style-tag {
            background: #10b981;
            color: #0a0e1a;
            padding: 3px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .validation-form {
            background: #0f1419;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .validation-form h4 {
            color: #10b981;
            margin-bottom: 15px;
        }
        
        .radio-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .radio-option {
            flex: 1;
            min-width: 150px;
        }
        
        .radio-option input[type="radio"] {
            display: none;
        }
        
        .radio-option label {
            display: block;
            padding: 12px 20px;
            background: #1a1f2e;
            border: 2px solid #3d4556;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        
        .radio-option input[type="radio"]:checked + label {
            background: #10b981;
            color: #0a0e1a;
            border-color: #10b981;
            font-weight: bold;
        }
        
        .radio-option.accurate label { border-color: #10b981; }
        .radio-option.partial label { border-color: #f59e0b; }
        .radio-option.inaccurate label { border-color: #ef4444; }
        
        textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            background: #1a1f2e;
            border: 1px solid #3d4556;
            border-radius: 8px;
            color: #e0e0e0;
            font-family: inherit;
            resize: vertical;
        }
        
        textarea:focus {
            outline: none;
            border-color: #10b981;
        }
        
        .actions {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
        }
        
        .btn-primary {
            background: #10b981;
            color: #0a0e1a;
        }
        
        .btn-primary:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }
        
        .btn-secondary {
            background: #3d4556;
            color: #e0e0e0;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .progress {
            background: #1a1f2e;
            padding: 10px 20px;
            border-radius: 8px;
            margin-right: auto;
        }
        
        .save-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10b981;
            color: #0a0e1a;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
            z-index: 2000;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .metadata {
            font-size: 12px;
            color: #6b7280;
            margin-top: 10px;
        }
        
        .instructions {
            background: #1a1f2e;
            border: 1px solid #3d4556;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .instructions h3 {
            color: #10b981;
            margin-bottom: 10px;
        }
        
        .instructions ol {
            margin-left: 20px;
            color: #9ca3af;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üß™ RangerIO Interactive Validation Report</h1>
        <p style="color: #9ca3af; margin-top: 10px;">Report ID: 20251230_181323</p>
        <div class="stats">
            <div class="stat">
                <div class="stat-label">Total Items</div>
                <div class="stat-value" id="total-items">10</div>
            </div>
            <div class="stat">
                <div class="stat-label">Validated</div>
                <div class="stat-value" id="validated-count">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Pending</div>
                <div class="stat-value" id="pending-count">10</div>
            </div>
        </div>
    </div>
    
    <div class="instructions">
        <h3>üìù How to Use This Report</h3>
        <ol>
            <li><strong>Review each item</strong> - Read the question, answer, and contexts carefully</li>
            <li><strong>Select accuracy rating</strong> - Choose ‚úÖ Accurate, ‚ö†Ô∏è Partial, or ‚ùå Inaccurate</li>
            <li><strong>Add notes</strong> - Explain your reasoning, especially for partial/inaccurate items</li>
            <li><strong>Auto-saves</strong> - Progress saves every 30 seconds automatically</li>
            <li><strong>Export when done</strong> - Click "Export Results" to download JSON file</li>
        </ol>
    </div>
    
    <div id="validation-items">
        
        <div class="validation-item refinement-item" data-item-id="0" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #1</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-low">LOW Complexity</span>
                <span class="badge">q01_simple_factual</span>
            </div>
            
            <div class="question">‚ùì What regions are included in the sales data?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Here is a structured summary of regions included in the sales dataset:

Regions Included (sales_data_5years.
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (1):</strong>
                <div class="context"><strong>Context 1:</strong> {'row_count': 10000, 'data_source_name': 'sales_data_5years.xlsx', 'data_source_type': 'excel', 'type': 'data_source_summary', 'column_count': 17, 'data_source_id': 346}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>List of 5 regions: North, South, East, West, Central</li><li>Concise (1-2 sentences max)</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_0_Too verbose (should " value="Too verbose (should be very brief)"> <label>Too verbose (should be very brief)</label></li><li><input type="checkbox" name="issue_0_Made up extra region" value="Made up extra regions"> <label>Made up extra regions</label></li><li><input type="checkbox" name="issue_0_Missing one or more " value="Missing one or more regions"> <label>Missing one or more regions</label></li><li><input type="checkbox" name="issue_0_Unnecessary explanat" value="Unnecessary explanation"> <label>Unnecessary explanation</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item0_accurate" name="validation_0" value="accurate">
                        <label for="item0_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item0_partial" name="validation_0" value="partial">
                        <label for="item0_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item0_inaccurate" name="validation_0" value="inaccurate">
                        <label for="item0_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_0" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="1" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #2</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-medium">MEDIUM Complexity</span>
                <span class="badge">q02_aggregation</span>
            </div>
            
            <div class="question">‚ùì What is the total revenue and average profit margin by region in 2023?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Based on the data source profile:

[Data Source: sales_data_5years.xlsx | Type: excel | Rows 6,501-6,550 | Chunk 131/200]
DATA ROWS 6501-6550 (of 10,000 total) from ds_190_sales_data_5years_xlsx
Columns: Order ID, Order Date, Region, Sales Team, Product, Category, Customer Segment, Reseller, Quantity, Unit Price, Revenue, Discount %, Discount Amount, Cost, Profit, Profit Margin %, Target Achievement %

| #    | Order ID  | Order Date          | Region  | Sales Team | Product         | Category        | Customer Segment | Reseller   | Quantity | Unit Price | Revenue  | Discount % | Discount Amount | Cost     | Profit   | Profit Margin % | Target Achievement % |
|------|-----------|---------------------|---------|------------|-----------------|-----------------|------------------|------------|----------|------------|---------...
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'total_rows': 10000, 'chunk_index': 130, 'type': 'data_source_data', 'filename': 'datasource_295_data', 'format': 'markdown_table', 'end_row': 6550, 'start_row': 6501, 'data_source_id': 295}</div><div class="context"><strong>Context 2:</strong> {'total_rows': 10000, 'chunk_index': 130, 'filename': 'datasource_291_data', 'type': 'data_source_data', 'data_source_id': 291, 'format': 'markdown_table', 'end_row': 6550, 'start_row': 6501}</div><div class="context"><strong>Context 3:</strong> {'chunk_index': 130, 'end_row': 6550, 'data_source_id': 294, 'format': 'markdown_table', 'filename': 'datasource_294_data', 'total_rows': 10000, 'start_row': 6501, 'type': 'data_source_data'}</div><div class="context"><strong>Context 4:</strong> {'format': 'markdown_table', 'start_row': 6501, 'type': 'data_source_data', 'chunk_index': 130, 'total_rows': 10000, 'end_row': 6550, 'data_source_id': 301, 'filename': 'datasource_301_data'}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Total revenue for each region (5 regions)</li><li>Average profit margin % for each region</li><li>Only 2023 data (filtered by year)</li><li>Numerical values (not just text)</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_1_Includes data from o" value="Includes data from other years (not just 2023)"> <label>Includes data from other years (not just 2023)</label></li><li><input type="checkbox" name="issue_1_Missing regions" value="Missing regions"> <label>Missing regions</label></li><li><input type="checkbox" name="issue_1_Hallucinated numbers" value="Hallucinated numbers"> <label>Hallucinated numbers</label></li><li><input type="checkbox" name="issue_1_Too verbose with unn" value="Too verbose with unnecessary explanations"> <label>Too verbose with unnecessary explanations</label></li><li><input type="checkbox" name="issue_1_No actual numbers pr" value="No actual numbers provided"> <label>No actual numbers provided</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item1_accurate" name="validation_1" value="accurate">
                        <label for="item1_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item1_partial" name="validation_1" value="partial">
                        <label for="item1_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item1_inaccurate" name="validation_1" value="inaccurate">
                        <label for="item1_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_1" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="2" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #3</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-high">HIGH Complexity</span>
                <span class="badge">q03_trend_analysis</span>
            </div>
            
            <div class="question">‚ùì How has revenue trended across quarters from 2019 to 2023? Which years showed growth vs decline?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                The Financial_Statements_2023.xlsx data source contains financial information for the year 2023, with three key columns: Account (string), and two years' worth of monetary values in float format - '2023', representing current-year figures; and '2022'. The dataset features top/bottom value statistics across both fiscal periods.
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (2):</strong>
                <div class="context"><strong>Context 1:</strong> {'total_rows': 10000, 'end_row': 2000, 'start_row': 1951, 'type': 'data_source_data', 'format': 'markdown_table', 'chunk_index': 39, 'filename': 'datasource_290_data', 'data_source_id': 290}</div><div class="context"><strong>Context 2:</strong> {'column_count': 3, 'type': 'data_source_summary', 'data_source_type': 'excel', 'data_source_id': 327, 'row_count': 11, 'data_source_name': 'Financial_Statements_2023.xlsx'}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Quarterly revenue trends</li><li>Year-over-year comparison (2019-2023)</li><li>Identification of growth years</li><li>Identification of decline years</li><li>Some numerical support for trends</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_2_Only shows one or tw" value="Only shows one or two years (not full 2019-2023)"> <label>Only shows one or two years (not full 2019-2023)</label></li><li><input type="checkbox" name="issue_2_No actual trend (jus" value="No actual trend (just lists numbers)"> <label>No actual trend (just lists numbers)</label></li><li><input type="checkbox" name="issue_2_Hallucinated growth/" value="Hallucinated growth/decline patterns"> <label>Hallucinated growth/decline patterns</label></li><li><input type="checkbox" name="issue_2_Too much raw data wi" value="Too much raw data without interpretation"> <label>Too much raw data without interpretation</label></li><li><input type="checkbox" name="issue_2_Too brief for comple" value="Too brief for complex trend analysis"> <label>Too brief for complex trend analysis</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item2_accurate" name="validation_2" value="accurate">
                        <label for="item2_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item2_partial" name="validation_2" value="partial">
                        <label for="item2_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item2_inaccurate" name="validation_2" value="inaccurate">
                        <label for="item2_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_2" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="3" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #4</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-low">LOW Complexity</span>
                <span class="badge">q04_top_performers</span>
            </div>
            
            <div class="question">‚ùì Which are the top 3 best-selling products by revenue?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                It is not possible to determine which are the top 3 best-selling products by revenue directly since we only have aggregated category and region information. However, if each row represents a unique transaction for specific product_id within its respective categories or regions (which seems likely given typical business practices), one could infer that 'Home' with $406,769.37 in total sales might be the best-selling overall; but to find top 3 products by revenue individually would require access to more granular data such as individual product_id and corresponding revenues within each category or region transaction record (which is not directly available from this dataset).
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (3):</strong>
                <div class="context"><strong>Context 1:</strong> {'type': 'data_source_summary', 'column_count': 10, 'row_count': 1000, 'data_source_type': 'excel', 'data_source_id': 150, 'data_source_name': 'multi_sheet.xlsx'}</div><div class="context"><strong>Context 2:</strong> {'chunk_index': 0, 'type': 'data_source_profile', 'data_source_id': 187, 'filename': 'datasource_187_profile'}</div><div class="context"><strong>Context 3:</strong> {'type': 'data_source_profile', 'data_source_id': 199, 'filename': 'datasource_199_profile', 'chunk_index': 0}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Exactly 3 products listed</li><li>Ranked in order (1st, 2nd, 3rd)</li><li>Revenue figures for each</li><li>Concise (no unnecessary details)</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_3_More than 3 products" value="More than 3 products listed"> <label>More than 3 products listed</label></li><li><input type="checkbox" name="issue_3_Not ranked in order" value="Not ranked in order"> <label>Not ranked in order</label></li><li><input type="checkbox" name="issue_3_No revenue figures p" value="No revenue figures provided"> <label>No revenue figures provided</label></li><li><input type="checkbox" name="issue_3_Made up product name" value="Made up product names"> <label>Made up product names</label></li><li><input type="checkbox" name="issue_3_Too verbose for simp" value="Too verbose for simple ranking"> <label>Too verbose for simple ranking</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item3_accurate" name="validation_3" value="accurate">
                        <label for="item3_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item3_partial" name="validation_3" value="partial">
                        <label for="item3_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item3_inaccurate" name="validation_3" value="inaccurate">
                        <label for="item3_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_3" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="4" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #5</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-medium">MEDIUM Complexity</span>
                <span class="badge">q05_comparison</span>
            </div>
            
            <div class="question">‚ùì Compare the performance of North vs South regions in terms of revenue, profit, and number of transactions.</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                038465972     010  3 [Res
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (3):</strong>
                <div class="context"><strong>Context 1:</strong> {'format': 'markdown_table', 'chunk_index': 38, 'data_source_id': 294, 'end_row': 1950, 'start_row': 1901, 'type': 'data_source_data', 'filename': 'datasource_294_data', 'total_rows': 10000}</div><div class="context"><strong>Context 2:</strong> {'total_rows': 10000, 'chunk_index': 39, 'start_row': 1951, 'data_source_id': 295, 'end_row': 2000, 'filename': 'datasource_295_data', 'format': 'markdown_table', 'type': 'data_source_data'}</div><div class="context"><strong>Context 3:</strong> {'data_source_id': 363, 'total_rows': 10000, 'end_row': 2000, 'start_row': 1951, 'chunk_index': 39, 'format': 'markdown_table', 'type': 'data_source_data', 'filename': 'datasource_363_data'}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Revenue for North</li><li>Revenue for South</li><li>Profit for both regions</li><li>Transaction count for both</li><li>Clear comparison (which is higher/lower)</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_4_Only provides one re" value="Only provides one region data"> <label>Only provides one region data</label></li><li><input type="checkbox" name="issue_4_Missing one of the t" value="Missing one of the three metrics"> <label>Missing one of the three metrics</label></li><li><input type="checkbox" name="issue_4_No actual comparison" value="No actual comparison (just lists numbers)"> <label>No actual comparison (just lists numbers)</label></li><li><input type="checkbox" name="issue_4_Includes other regio" value="Includes other regions not asked for"> <label>Includes other regions not asked for</label></li><li><input type="checkbox" name="issue_4_Hallucinated numbers" value="Hallucinated numbers"> <label>Hallucinated numbers</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item4_accurate" name="validation_4" value="accurate">
                        <label for="item4_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item4_partial" name="validation_4" value="partial">
                        <label for="item4_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item4_inaccurate" name="validation_4" value="inaccurate">
                        <label for="item4_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_4" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="5" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #6</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-medium">MEDIUM Complexity</span>
                <span class="badge">q06_filtering</span>
            </div>
            
            <div class="question">‚ùì Show transactions where profit margin is greater than 30% and revenue exceeds $50,000.</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Based on the data source profile:

[Data Source: sales_data_5years.xlsx | Type: excel | Rows 501-550 | Chunk 11/200]
DATA ROWS 501-550 (of 10,000 total) from ds_231_sales_data_5years_xlsx
Columns: Order ID, Order Date, Region, Sales Team, Product, Category, Customer Segment, Reseller, Quantity, Unit Price, Revenue, Discount %, Discount Amount, Cost, Profit, Profit Margin %, Target Achievement %

| #   | Order ID  | Order Date          | Region  | Sales Team | Product         | Category        | Customer Segment | Reseller   | Quantity | Unit Price | Revenue  | Discount % | Discount Amount | Cost     | Profit   | Profit Margin % | Target Achievement % |
|-----|-----------|---------------------|---------|------------|-----------------|-----------------|------------------|------------|----------|------------|----------|-------...
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'data_source_id': 354, 'end_row': 550, 'type': 'data_source_data', 'chunk_index': 10, 'filename': 'datasource_354_data', 'format': 'markdown_table', 'start_row': 501, 'total_rows': 10000}</div><div class="context"><strong>Context 2:</strong> {'data_source_id': 361, 'type': 'data_source_data', 'start_row': 501, 'filename': 'datasource_361_data', 'total_rows': 10000, 'end_row': 550, 'chunk_index': 10, 'format': 'markdown_table'}</div><div class="context"><strong>Context 3:</strong> {'format': 'markdown_table', 'type': 'data_source_data', 'total_rows': 10000, 'chunk_index': 10, 'data_source_id': 346, 'end_row': 550, 'start_row': 501, 'filename': 'datasource_346_data'}</div><div class="context"><strong>Context 4:</strong> {'start_row': 501, 'end_row': 550, 'format': 'markdown_table', 'chunk_index': 10, 'type': 'data_source_data', 'data_source_id': 358, 'total_rows': 10000, 'filename': 'datasource_358_data'}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Count of transactions meeting criteria</li><li>Both filters applied (margin >30% AND revenue >$50K)</li><li>Examples or summary of results</li><li>Specific numbers</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_5_Only one filter appl" value="Only one filter applied (not both)"> <label>Only one filter applied (not both)</label></li><li><input type="checkbox" name="issue_5_Wrong threshold valu" value="Wrong threshold values"> <label>Wrong threshold values</label></li><li><input type="checkbox" name="issue_5_Just shows all data " value="Just shows all data without filtering"> <label>Just shows all data without filtering</label></li><li><input type="checkbox" name="issue_5_Hallucinated transac" value="Hallucinated transaction counts"> <label>Hallucinated transaction counts</label></li><li><input type="checkbox" name="issue_5_Too verbose listing " value="Too verbose listing individual transactions"> <label>Too verbose listing individual transactions</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item5_accurate" name="validation_5" value="accurate">
                        <label for="item5_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item5_partial" name="validation_5" value="partial">
                        <label for="item5_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item5_inaccurate" name="validation_5" value="inaccurate">
                        <label for="item5_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_5" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="6" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #7</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-medium">MEDIUM Complexity</span>
                <span class="badge">q07_statistical</span>
            </div>
            
            <div class="question">‚ùì What are the mean, median, and standard deviation of profit margins?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Based on the data source profile:

[Data Source: sales_data_5years.xlsx | Type: excel | Rows 501-550 | Chunk 11/200]
DATA ROWS 501-550 (of 10,000 total) from ds_194_sales_data_5years_xlsx
Columns: Order ID, Order Date, Region, Sales Team, Product, Category, Customer Segment, Reseller, Quantity, Unit Price, Revenue, Discount %, Discount Amount, Cost, Profit, Profit Margin %, Target Achievement %

| #   | Order ID  | Order Date          | Region  | Sales Team | Product         | Category        | Customer Segment | Reseller   | Quantity | Unit Price | Revenue  | Discount % | Discount Amount | Cost     | Profit   | Profit Margin % | Target Achievement % |
|-----|-----------|---------------------|---------|------------|-----------------|-----------------|------------------|------------|----------|------------|----------|-------...
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'format': 'markdown_table', 'end_row': 550, 'data_source_id': 299, 'filename': 'datasource_299_data', 'total_rows': 10000, 'type': 'data_source_data', 'start_row': 501, 'chunk_index': 10}</div><div class="context"><strong>Context 2:</strong> {'format': 'markdown_table', 'start_row': 501, 'filename': 'datasource_289_data', 'total_rows': 10000, 'end_row': 550, 'chunk_index': 10, 'data_source_id': 289, 'type': 'data_source_data'}</div><div class="context"><strong>Context 3:</strong> {'data_source_id': 338, 'start_row': 501, 'type': 'data_source_data', 'total_rows': 10000, 'end_row': 550, 'filename': 'datasource_338_data', 'chunk_index': 10, 'format': 'markdown_table'}</div><div class="context"><strong>Context 4:</strong> {'total_rows': 10000, 'filename': 'datasource_346_data', 'format': 'markdown_table', 'type': 'data_source_data', 'end_row': 3550, 'start_row': 3501, 'data_source_id': 346, 'chunk_index': 70}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Mean (average) profit margin %</li><li>Median profit margin %</li><li>Standard deviation</li><li>Numerical precision (decimals)</li><li>Concise (no long explanations)</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_6_Missing one or more " value="Missing one or more statistics"> <label>Missing one or more statistics</label></li><li><input type="checkbox" name="issue_6_Wrong calculations" value="Wrong calculations"> <label>Wrong calculations</label></li><li><input type="checkbox" name="issue_6_No numerical values " value="No numerical values provided"> <label>No numerical values provided</label></li><li><input type="checkbox" name="issue_6_Too much explanation" value="Too much explanation of what these stats mean"> <label>Too much explanation of what these stats mean</label></li><li><input type="checkbox" name="issue_6_Rounded too much (sh" value="Rounded too much (should show precision)"> <label>Rounded too much (should show precision)</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item6_accurate" name="validation_6" value="accurate">
                        <label for="item6_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item6_partial" name="validation_6" value="partial">
                        <label for="item6_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item6_inaccurate" name="validation_6" value="inaccurate">
                        <label for="item6_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_6" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="7" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #8</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-high">HIGH Complexity</span>
                <span class="badge">q08_anomaly</span>
            </div>
            
            <div class="question">‚ùì Identify any unusual or outlier transactions with extremely high discounts (>20%) combined with low profit margins (<5%).</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Upon analyzing the provided data, there are no transactions that show discounts above 20% with low profit margins (<5%). The highest recorded revenue was $497631.8 for Home category at a quantity of one item sold; this does not indicate an outlier transaction based on your criteria since we do not have individual price, cost or discount data to calculate the exact margin in that particular case within our provided dataset summary which only shows total sums and averages rather than detailed per-transaction breakdowns.
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'row_count': 1000, 'data_source_type': 'excel', 'column_count': 10, 'type': 'data_source_summary', 'data_source_id': 162, 'data_source_name': 'multi_sheet.xlsx'}</div><div class="context"><strong>Context 2:</strong> {'filename': 'datasource_199_profile', 'data_source_id': 199, 'chunk_index': 0, 'type': 'data_source_profile'}</div><div class="context"><strong>Context 3:</strong> {'filename': 'datasource_187_profile', 'type': 'data_source_profile', 'chunk_index': 0, 'data_source_id': 187}</div><div class="context"><strong>Context 4:</strong> {'filename': 'datasource_162_profile', 'chunk_index': 0, 'type': 'data_source_profile', 'data_source_id': 162}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Count of outlier transactions</li><li>Both criteria applied (discount >20% AND margin <5%)</li><li>Examples or patterns</li><li>Business insight (why this matters)</li><li>Specific numbers</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_7_Only one criterion a" value="Only one criterion applied"> <label>Only one criterion applied</label></li><li><input type="checkbox" name="issue_7_No examples provided" value="No examples provided"> <label>No examples provided</label></li><li><input type="checkbox" name="issue_7_Just lists transacti" value="Just lists transactions without analysis"> <label>Just lists transactions without analysis</label></li><li><input type="checkbox" name="issue_7_Missing business con" value="Missing business context"> <label>Missing business context</label></li><li><input type="checkbox" name="issue_7_Too brief for comple" value="Too brief for complex analysis"> <label>Too brief for complex analysis</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item7_accurate" name="validation_7" value="accurate">
                        <label for="item7_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item7_partial" name="validation_7" value="partial">
                        <label for="item7_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item7_inaccurate" name="validation_7" value="inaccurate">
                        <label for="item7_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_7" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="8" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #9</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-very_high">VERY_HIGH Complexity</span>
                <span class="badge">q09_recommendation</span>
            </div>
            
            <div class="question">‚ùì Based on the sales data, which product categories should we focus on for Q1 2024 and why? Provide recommendations.</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                Based on the data source profile:

[Data Source: sales_data_5years.xlsx | Type: excel | Rows 3,651-3,700 | Chunk 74/200]
DATA ROWS 3651-3700 (of 10,000 total) from ds_228_sales_data_5years_xlsx
Columns: Order ID, Order Date, Region, Sales Team, Product, Category, Customer Segment, Reseller, Quantity, Unit Price, Revenue, Discount %, Discount Amount, Cost, Profit, Profit Margin %, Target Achievement %

| #    | Order ID  | Order Date          | Region  | Sales Team | Product         | Category        | Customer Segment | Reseller   | Quantity | Unit Price | Revenue  | Discount % | Discount Amount | Cost     | Profit   | Profit Margin % | Target Achievement % |
|------|-----------|---------------------|---------|------------|-----------------|-----------------|------------------|------------|----------|------------|----------...
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'filename': 'datasource_351_data', 'start_row': 3651, 'type': 'data_source_data', 'data_source_id': 351, 'format': 'markdown_table', 'chunk_index': 73, 'end_row': 3700, 'total_rows': 10000}</div><div class="context"><strong>Context 2:</strong> {'start_row': 3651, 'data_source_id': 295, 'total_rows': 10000, 'format': 'markdown_table', 'end_row': 3700, 'chunk_index': 73, 'type': 'data_source_data', 'filename': 'datasource_295_data'}</div><div class="context"><strong>Context 3:</strong> {'format': 'markdown_table', 'total_rows': 10000, 'type': 'data_source_data', 'data_source_id': 294, 'chunk_index': 73, 'filename': 'datasource_294_data', 'start_row': 3651, 'end_row': 3700}</div><div class="context"><strong>Context 4:</strong> {'data_source_id': 291, 'end_row': 3700, 'format': 'markdown_table', 'type': 'data_source_data', 'filename': 'datasource_291_data', 'chunk_index': 73, 'start_row': 3651, 'total_rows': 10000}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Recommended product categories (prioritized)</li><li>Data-driven reasoning (revenue, profit, growth)</li><li>Historical performance analysis</li><li>Forward-looking insights</li><li>Actionable recommendations</li><li>Business justification</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_8_No clear recommendat" value="No clear recommendations (just describes data)"> <label>No clear recommendations (just describes data)</label></li><li><input type="checkbox" name="issue_8_Recommendations not " value="Recommendations not based on data"> <label>Recommendations not based on data</label></li><li><input type="checkbox" name="issue_8_Missing justificatio" value="Missing justification/reasoning"> <label>Missing justification/reasoning</label></li><li><input type="checkbox" name="issue_8_Too brief for strate" value="Too brief for strategic analysis"> <label>Too brief for strategic analysis</label></li><li><input type="checkbox" name="issue_8_Too verbose without " value="Too verbose without clear action items"> <label>Too verbose without clear action items</label></li><li><input type="checkbox" name="issue_8_Generic advice not s" value="Generic advice not specific to the data"> <label>Generic advice not specific to the data</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item8_accurate" name="validation_8" value="accurate">
                        <label for="item8_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item8_partial" name="validation_8" value="partial">
                        <label for="item8_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item8_inaccurate" name="validation_8" value="inaccurate">
                        <label for="item8_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_8" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
        <div class="validation-item refinement-item" data-item-id="9" data-item-type="rag_refinement">
            <div class="item-header">
                <span class="item-number">Item #10</span>
                <span class="item-type">Query with Refinement Tracking</span>
                <span class="badge badge-medium">MEDIUM Complexity</span>
                <span class="badge">q10_data_quality</span>
            </div>
            
            <div class="question">‚ùì Are there any data quality issues in the sales data, such as missing values or inconsistencies?</div>
            
            <div class="answer">
                <strong>Answer:</strong><br>
                There are no missing values or inconsistencies in this wine quality dataset. The data completeness is reported at 0%, which indicates that every value has been accounted for and none of them contain nulls (as per total rows being equal to columns). There're also zero column-wise empty entries as indicated by the "Suggested Joins" section, implying a well-structured dataset. The average number of missing values across all data points is 0%, suggesting high quality and completeness in this winequality_red xlsx file with an overall Quality Score rating at 82.5/100 indicating good standards within the sampled wines' characteristics, although it does not directly address sales-related issues without further data on that specific aspect of performance or trends over time and across different categories in a more detailed dataset focusing specifically on 'sales'.
            </div>
            
            <div class="contexts">
                <strong>Retrieved Contexts (4):</strong>
                <div class="context"><strong>Context 1:</strong> {'type': 'data_source_summary', 'data_source_id': 76, 'row_count': 792, 'column_count': 1, 'data_source_type': 'xlsx', 'data_source_name': 'winequality-white.xlsx'}</div><div class="context"><strong>Context 2:</strong> {'type': 'data_source_profile', 'chunk_index': 0, 'filename': 'datasource_128_profile', 'data_source_id': 128}</div><div class="context"><strong>Context 3:</strong> {'data_source_id': 72, 'filename': 'datasource_72_profile', 'type': 'data_source_profile', 'chunk_index': 0}</div><div class="context"><strong>Context 4:</strong> {'data_source_id': 103, 'filename': 'datasource_103_profile', 'type': 'data_source_profile', 'chunk_index': 0}</div>
            </div>
            
            <div class="expected-elements"><h5>‚úÖ Expected Elements:</h5><ul><li>Missing values identified (columns with nulls)</li><li>Percentage or count of missing data</li><li>Any inconsistencies noted</li><li>Overall data quality assessment</li><li>Specific columns mentioned</li></ul></div>
            <div class="potential-issues"><h5>‚ö†Ô∏è Check for These Issues:</h5><ul><li><input type="checkbox" name="issue_9_Says "no issues" whe" value="Says "no issues" when there are 20% nulls in data"> <label>Says "no issues" when there are 20% nulls in data</label></li><li><input type="checkbox" name="issue_9_Too vague (no specif" value="Too vague (no specific columns mentioned)"> <label>Too vague (no specific columns mentioned)</label></li><li><input type="checkbox" name="issue_9_Hallucinated issues " value="Hallucinated issues that don't exist"> <label>Hallucinated issues that don't exist</label></li><li><input type="checkbox" name="issue_9_Too technical/verbos" value="Too technical/verbose"> <label>Too technical/verbose</label></li><li><input type="checkbox" name="issue_9_Doesn't actually che" value="Doesn't actually check for quality issues"> <label>Doesn't actually check for quality issues</label></li></ul></div>
            
            <div class="validation-form">
                <h4>Your Validation:</h4>
                <div class="radio-group">
                    <div class="radio-option accurate">
                        <input type="radio" id="item9_accurate" name="validation_9" value="accurate">
                        <label for="item9_accurate">‚úÖ Accurate - No Refinement Needed</label>
                    </div>
                    <div class="radio-option partial">
                        <input type="radio" id="item9_partial" name="validation_9" value="partial">
                        <label for="item9_partial">‚ö†Ô∏è Partially Accurate - Minor Refinement</label>
                    </div>
                    <div class="radio-option inaccurate">
                        <input type="radio" id="item9_inaccurate" name="validation_9" value="inaccurate">
                        <label for="item9_inaccurate">‚ùå Needs Major Refinement</label>
                    </div>
                </div>
                <textarea name="notes_9" placeholder="Detailed feedback for refinement:&#10;&#10;- What needs to be fixed?&#10;- Which expected elements are missing?&#10;- Are any of the flagged issues present?&#10;- Suggested improvements"></textarea>
            </div>
        </div>
        
        <style>
        .refinement-item .expected-elements {
            background: #10b98120;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item .potential-issues {
            background: #f59e0b20;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
        }
        
        .refinement-item ul {
            margin: 8px 0 0 20px;
            line-height: 1.8;
        }
        
        .refinement-item ul li {
            margin-bottom: 6px;
        }
        
        .badge-high { background: #ef444480; color: white; }
        .badge-very_high { background: #dc262680; color: white; }
        .badge-medium { background: #f59e0b80; color: white; }
        .badge-low { background: #10b98180; color: white; }
        </style>
        
    </div>
    
    <div class="actions">
        <div class="progress">
            <span id="progress-text">0 / 10 validated</span>
        </div>
        <button class="btn btn-secondary" onclick="autoSave()">üíæ Auto-Save</button>
        <button class="btn btn-primary" onclick="exportResults()">üì• Export Results</button>
    </div>
    
    <div class="save-notification" id="save-notification">
        ‚úÖ Progress auto-saved!
    </div>
    
    <script>
        const REPORT_ID = '20251230_181323';
        
        // Auto-save every 30 seconds
        let autoSaveInterval = setInterval(autoSave, 30000);
        
        // Load previous responses if available
        window.addEventListener('DOMContentLoaded', loadSavedResponses);
        
        // Save on any change
        document.addEventListener('change', function(e) {
            if (e.target.matches('input[type="radio"], textarea')) {
                autoSave();
                updateStats();
            }
        });
        
        function loadSavedResponses() {
            const saved = localStorage.getItem('validation_responses_' + REPORT_ID);
            if (saved) {
                const responses = JSON.parse(saved);
                for (const [itemId, data] of Object.entries(responses)) {
                    const radio = document.querySelector(`input[name="validation_${itemId}"][value="${data.choice}"]`);
                    if (radio) radio.checked = true;
                    
                    const notes = document.querySelector(`textarea[name="notes_${itemId}"]`);
                    if (notes) notes.value = data.notes || '';
                }
                updateStats();
                console.log('‚úì Loaded saved responses');
            }
        }
        
        function autoSave() {
            const responses = {};
            const items = document.querySelectorAll('.validation-item');
            
            items.forEach(item => {
                const itemId = item.dataset.itemId;
                const radio = item.querySelector('input[type="radio"]:checked');
                const notes = item.querySelector('textarea');
                
                if (radio || (notes && notes.value)) {
                    responses[itemId] = {
                        choice: radio ? radio.value : null,
                        notes: notes ? notes.value : '',
                        timestamp: new Date().toISOString()
                    };
                }
            });
            
            localStorage.setItem('validation_responses_' + REPORT_ID, JSON.stringify(responses));
            
            // Show notification
            const notification = document.getElementById('save-notification');
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 2000);
        }
        
        function updateStats() {
            const items = document.querySelectorAll('.validation-item');
            let validated = 0;
            
            items.forEach(item => {
                const radio = item.querySelector('input[type="radio"]:checked');
                if (radio) {
                    validated++;
                    item.classList.add('validated');
                } else {
                    item.classList.remove('validated');
                }
            });
            
            document.getElementById('validated-count').textContent = validated;
            document.getElementById('pending-count').textContent = items.length - validated;
            document.getElementById('progress-text').textContent = `${validated} / ${items.length} validated`;
        }
        
        function exportResults() {
            const responses = {};
            const items = document.querySelectorAll('.validation-item');
            
            items.forEach(item => {
                const itemId = item.dataset.itemId;
                const itemType = item.dataset.itemType;
                const radio = item.querySelector('input[type="radio"]:checked');
                const notes = item.querySelector('textarea');
                
                responses[itemId] = {
                    item_id: parseInt(itemId),
                    item_type: itemType,
                    choice: radio ? radio.value : 'not_validated',
                    notes: notes ? notes.value : '',
                    timestamp: new Date().toISOString()
                };
            });
            
            const result = {
                report_id: REPORT_ID,
                generated_at: new Date().toISOString(),
                total_items: items.length,
                validated_items: Object.values(responses).filter(r => r.choice !== 'not_validated').length,
                responses: responses
            };
            
            // Download as JSON
            const blob = new Blob([JSON.stringify(result, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'validation_results_' + REPORT_ID + '.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Also save to localStorage as backup
            localStorage.setItem('validation_results_' + REPORT_ID, JSON.stringify(result));
            
            alert('‚úÖ Results exported successfully!\n\nFile: validation_results_' + REPORT_ID + '.json\nItems validated: ' + result.validated_items + ' / ' + result.total_items);
        }
        
        // Update stats on load
        updateStats();
    </script>
</body>
</html>
